import React, { Component } from "react";
import stepOne from "../Components/images/stepOne.png";
import DesertAdder from "./DessertBox";
import brownie from "../Components/images/brownie.png";
import terrys from "../Components/images/terryschoc-brownie.png";
import KinderBrownie from "../Components/images/kinderBueno-brownie.png";
import fudgeBrownie from "../Components/images/fudge-bwonie.png";
import crispyMM from "../Components/images/m&m brownie.png";
import lotusBrownie from "../Components/images/lotus-brownie.png";
import lotusSlice from "../Components/images/lotus-slice.png";
import oreoDonut from "../Components/images/oreo-donut.png";
import milkCookie from "../Components/images/milkcookie.png";
import doubleChocCookie from "../Components/images/choc-cookie.png";
import whiteCookie from "../Components/images/white-cookie.png";
class Orders extends Component {
  state = {
    boxSetAmount: 4,
    total: 0,
  };
  render() {
    return (
      <main className="ordersDiv">
        <h1 className="DesertTitleH1">DESERT BOXES</h1>
        {/* <h2 className="aboutH2Title">Desert Boxes</h2> */}
        <h2 className="desertH2Title">
          We hand-make all our desserts freshly in store for you to enjoy.
        </h2>
        <h3 className="desertH2Title">
          Choose your favourite flavours and create your very own dessert box!
        </h3>
        {/* <div className="orderFlex">
          <img className="stepOne" src={stepOne} alt="stepOne"></img>
        </div> */}
        <form className="ordersForm">
          <label className="ordersLabel">
            Select your size
            <select
              className="formInput"
              onChange={(e) =>
                this.handleChange(e.target.value, "boxSetAmount")
              }
            >
              <option value={4}>Box of 4 - £10</option>
              <option value={5}>Box of 5 - £12</option>
              <option value={6}>Box of 6 - £14</option>
            </select>
          </label>
          <div className="orderFlex">
            <img className="stepOne" src={stepOne} alt="stepOne"></img>
          </div>
          <label className="ordersLabel">Step Two: Select your flavours</label>
          <div className="desertTiles">
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                boxSetAmount={this.state.boxSetAmount}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={brownie}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">Chocolate Brownie</p>
            </div>
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={terrys}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">Terry’s Chocolate Orange Brownie</p>
            </div>
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={KinderBrownie}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">Kinder Bueno Chocolate Brownie</p>
            </div>
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={fudgeBrownie}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">Chocolate Fudge Brownie</p>
            </div>
          </div>
          <div className="desertTiles">
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={crispyMM}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">Crispy M&M Brownie</p>
            </div>
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={lotusBrownie}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">Lotus Biscoff Brownie</p>
            </div>
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={lotusSlice}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">Lotus Biscoff Slice</p>
            </div>
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={oreoDonut}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">Chocolate filled Oreo Donut</p>
            </div>
          </div>
          <div className="desertTiles">
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={milkCookie}
                alt="desert_Icon"
              ></img>
              <p className="desertTitle">Milk Chocolate Chip Cookie</p>
            </div>
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={doubleChocCookie}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">Double Chocolate Chip Cookie</p>
            </div>
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={whiteCookie}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">White Chocolate Chip Cookie</p>
            </div>
            <div id="DesertGrid">
              <DesertAdder
                total={this.state.total}
                handleTotal={this.handleTotal}
              />
              <img
                className="DesertIcons"
                src={whiteCookie}
                alt="dessert_Icon"
              ></img>
              <p className="desertTitle">White Chocolate Chip Cookie</p>
            </div>
          </div>
          <p>
            {this.handleOrder()}
            {/* {this.state.total}/{this.state.boxSetAmount} */}
          </p>
          <div className="orderFlex">
            <img className="stepOne" src={stepOne} alt="stepOne"></img>
          </div>
          <label className="ordersLabel">
            Step Three: Delivery or Collection
            <select className="formInput">
              <option value="Collection">Collection - Free</option>
              <option value="Delivery">Delivery - £2.50</option>
            </select>
          </label>
          <p className="centeredP">
            PLEASE NOTE THAT ALL ORDERS MUST BE PLACES AT LEAST 24 HOURS BEFORE
            YOU WANT TO RECEIVE YOUR ORDER this is due to all products being
            made fresh in store. YOUR ORDER WILL ONLY BE CONFIRMED ONCE A MEMBER
            OF STAFF CONTACTS YOU TO TAKE PAYMENT OVER THE PHONE
          </p>
          <label className="ordersLabel" for="Confirm">
            {" "}
            <input
              className="ordersInput"
              type="radio"
              name="Confirm"
              value="Confirm"
              required="true"
            ></input>
            Accept
          </label>
          <label className="ordersLabel">
            Name:
            <input
              className="orderInput"
              type="text"
              name="name"
              placeholder="Name"
            />
          </label>
          <label className="ordersLabel1">
            Telephone:
            <input
              className="orderInputPhone"
              type="text"
              name="phoneNumber"
              placeholder="Telephone Number"
            />
          </label>
          <div className="divSubmit">
            <button
              className="navButtonParty"
              type="submit"
              value="Place Order"
              disabled="true"
            >
              SUBMIT
            </button>
          </div>
        </form>
      </main>
    );
  }
  handleChange = (text, key) => {
    console.log(text, key);
    this.setState({ [key]: text });
  };
  handleTotal = (inc_amount) => {
    const { boxSetAmount } = this.state;
    this.setState((currentState) => {
      if (currentState.total <= boxSetAmount)
        return {
          total: currentState.total + inc_amount,
        };
    });
  };
  handleOrder() {
    const { boxSetAmount, total } = this.state;
    if (total === boxSetAmount) {
      return <p>You're all set!</p>;
      // } else if (){
    } else {
      return <p>You need {boxSetAmount - total} more!</p>;
    }
  }
}
export default Orders;



import React, { Component } from "react";

class DessertAdder extends Component {
  state = {
    amountDifference: 0,
    Amount: 0,
    disabled: false,
  };
  render() {
    const { amountDifference, Amount, disabled } = this.state;
    const { handleTotal, boxSetAmount } = this.props;
    const { handleClick } = this;

    // if (err) return <ErrorPage err={err} />;
    return (
      <main className="button_Amount">
        <div className="incDiv">
          <button
            disabled={disabled}
            className="button_Amount"
            onClick={(e) => {
              e.preventDefault();
              handleClick(-1);
              handleTotal(-1);
            }}
          >
            -
          </button>
          <p className="DesertName">x{Amount + amountDifference}</p>
          <button
            className="button_Amount"
            disabled={disabled}
            onClick={(e) => {
              e.preventDefault();
              handleClick(1);
              handleTotal(1);
            }}
          >
            +
          </button>
        </div>
        {/* <p className="hidden">{total}</p> */}
      </main>
    );
  }

  handleClick = (inc_Amount) => {
    // const { amountDifference } = this.state;
    const { boxSetAmount, total } = this.props;

    this.setState((currentState) => {
      if (total === boxSetAmount - 1) {
        return {
          amountDifference: currentState.amountDifference + inc_Amount,
          disabled: true,
        };
      }
      return {
        amountDifference: currentState.amountDifference + inc_Amount,
      };
    });
  };
}

export default DessertAdder;
